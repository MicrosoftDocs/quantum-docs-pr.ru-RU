---
title: Создание квантового генератора случайных чисел
description: Создайте проект Q#, который демонстрирует фундаментальные квантовые понятия, например суперпозицию, на примере квантового генератора случайных чисел.
author: bromeg
ms.author: megbrow@microsoft.com
ms.date: 10/25/2019
ms.topic: article
uid: microsoft.quantum.quickstarts.qrng
ms.openlocfilehash: b9c8592b1296a7de1b9ad5d0538ad1972ec25e31
ms.sourcegitcommit: 6ccea4a2006a47569c4e2c2cb37001e132f17476
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2020
ms.locfileid: "77906990"
---
# <a name="quickstart-implement-a-quantum-random-number-generator-in-q"></a>Краткое руководство. Реализация квантового генератора случайных чисел на языке Q#
Простой пример квантового алгоритма на языке Q#, который моделирует генератор случайных чисел. Этот алгоритм использует природу квантовой механики для получения случайного числа. 

## <a name="prerequisites"></a>Предварительные требования

- [Microsoft Quantum Development Kit](xref:microsoft.quantum.install).
- [Создание проекта Q#](xref:microsoft.quantum.howto.createproject)


## <a name="write-a-q-operation"></a>Создание операции Q#

### <a name="q-operation-code"></a>Код операции Q#

1. Замените содержимое файла Operation.cs следующим кодом:

 :::code language="qsharp" source="~/quantum/samples/getting-started/qrng/Qrng.qs" range="3-14":::

Как упоминалось в статье [Сведения о квантовых вычислениях](xref:microsoft.quantum.overview.what), кубит представляет собой единицу квантовой информации и может находиться в состоянии суперпозиции. При измерении он всегда возвращает значение 0 или 1. Но во время выполнения состояние кубита отражает вероятность получить значение 0 или 1 при измерении. Такое вероятностное состояние называется суперпозицией. Эту вероятность мы можем применить для создания случайных чисел.

Мы создадим операцию Q#, в которой используется тип данных `Qubit`,уникальный для языка Q#. `Qubit` можно выделить инструкцией `using`. Только что выделенный кубит всегда находится в состоянии `Zero`. 

С помощью операции `H` мы можем перевести `Qubit` в состояние суперпозиции. Чтобы измерить кубит, т. е. определить его значение, используется специальная операция `M`.

Каждый раз, когда мы переводим `Qubit` в состояние суперпозиции и измеряем его, мы получаем разные значения. 

При отмене выделения `Qubit` необходимо явным образом вернуть ему состояние `Zero`. В противном случае симулятор вернет ошибку при выполнении. Для этого проще всего вызвать `Reset`.

### <a name="visualizing-the-code-with-the-bloch-sphere"></a>Визуализация кода в формате сферы Блоха

В сфере Блоха северный полюс соответствует классическому значению **0**, а южный — классическому значению **1**. Любое состояние суперпозиции обозначается точкой на этой сфере (или стрелкой на схеме). Чем ближе конец этой стрелки к одному из полюсов, тем выше вероятность схлопывания этого кубита при измерении в то классическое состояние, которое соответствует этому полюсу. В примере ниже красная стрелка обозначает состояние с более высокой вероятностью получить значение **0** при измерении кубита.

<img src="~/media/qrng-Bloch.png" width="175" alt="A qubit state with a high probability of measuring zero">

Мы можем использовать это представление для визуализации работы нашего кода.

* Для начала мы инициализируем кубит в состоянии **0** и применим `H`, чтобы создать состояние суперпозиции с равной вероятностью получить значения **0** и **1**.

<img src="~/media/qrng-H.png" width="450" alt="Preparing a qubit in superposition">


* Затем мы измерим состояние кубита и сохраним выходное значение:

<img src="~/media/qrng-meas.png" width="450" alt="Measuring a qubit and saving the output">

Так как исход этого измерения является полностью случайным, можно считать, что мы получили случайный бит. Вызывая эту операцию несколько раз, мы получим большое целое число. Например, три вызова этой операции возвращают три случайных бита, позволяя создать трехбитовое число (т. е. случайное число в диапазоне от 0 до 7).

## <a name="creating-a-complete-random-number-generator-using-a-host-program"></a>Создание комплексного генератора случайных чисел с помощью основной программы

Теперь, когда у нас есть операция Q#, создающая случайные биты, мы можем использовать ее для создания комплексного квантового генератора случайных чисел с помощью основной программы.

 ### <a name="python-with-visual-studio-code-or-the-command-line"></a>[Вызов Python из Visual Studio Code или командной строки](#tab/tabid-python)
 
 Чтобы выполнить эту программу Q# из кода Python, сохраните следующий код в файл `host.py`:
 
:::code language="python" source="~/quantum/samples/getting-started/qrng/host.py" range="11-30":::

 Теперь вы сможете запустить основную программу Python из командной строки следующим образом:
 ```bash
 $ python host.py
 Preparing Q# environment...
 ..The random number generated is 42
 ```
 ### <a name="c-with-visual-studio-code-or-the-command-line"></a>[Вызов C# из Visual Studio Code или командной строки](#tab/tabid-csharp)
 
 Чтобы выполнить эту программу Q# из кода C#, измените `Driver.cs`, включив в него следующий код:
 
 :::code language="csharp" source="~/quantum/samples/getting-started/qrng/Host.cs" range="4-39":::
 
 Теперь вы сможете запустить основную программу C# из командной строки следующим образом:
 
 ```bash
 $ dotnet run
 The random number generated is 42
 ```

 ### <a name="c-with-visual-studio-2019"></a>[Вызов C# из Visual Studio 2019](#tab/tabid-vs2019)

 Чтобы выполнить эту программу Q# из кода C# в Visual Studio, измените `Driver.cs`, включив в него следующий код:

 :::code language="csharp" source="~/quantum/samples/getting-started/qrng/Host.cs" range="4-39":::

 Затем нажмите клавишу F5, чтобы запустить программу. Отобразится новое всплывающее окно со сгенерированным случайным числом: 

 ```bash
 $ dotnet run
 The random number generated is 42
 ```
 ***
