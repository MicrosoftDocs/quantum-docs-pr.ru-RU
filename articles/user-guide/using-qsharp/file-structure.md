---
title: 'Q # файл структура'
description: 'Описывает структуру и синтаксис файла Q #.'
author: gillenhaalb
ms.author: a-gibec@microsoft.com
ms.date: 03/05/2020
ms.topic: article
uid: microsoft.quantum.guide.filestructure
ms.openlocfilehash: b8c24dae6cc8d8f37ad4f1f74017c05cabe3a4b4
ms.sourcegitcommit: a35498492044be4018b4d1b3b611d70a20e77ecc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2020
ms.locfileid: "84327464"
---
# <a name="q-file-structure"></a>Q # файл структура

Каждая операция Q #, функция и определяемый пользователем тип определяется в пространстве имен.

Файл Q # состоит из последовательности *объявлений пространств имен*.
Каждое объявление пространства имен содержит объявления для определяемых пользователем типов, операций и функций.
Объявление пространства имен может содержать любое количество объявлений каждого типа и в любом порядке.
Используйте эти ссылки для получения дополнительных сведений об объявлении [определяемых пользователем типов](xref:microsoft.quantum.guide.types#user-defined-types), [операций](xref:microsoft.quantum.guide.operationsfunctions#defining-new-operations)и [функций](xref:microsoft.quantum.guide.operationsfunctions#defining-new-functions) в пространстве имен.

Единственный текст, который может находиться за пределами объявления пространства имен, — это комментарии.
В частности, комментарии к документации (Дополнительные сведения см. ниже) для пространства имен перед объявлением.

## <a name="namespace-declarations"></a>Объявление пространств имен

Как правило, файл Q # содержит только одно объявление пространства имен, но может содержать пустое значение (и быть пустым или содержать только комментарии) или может включать несколько пространств имен.
Объявления пространств имен не могут быть вложенными.

Одно и то же пространство имен может быть объявлено в нескольких файлах Q #, компилируемых вместе, при условии, что отсутствуют объявления типов, операций или функций с одинаковыми именами.
В частности, нельзя определить один и тот же тип в одном пространстве имен в нескольких файлах, даже если объявления идентичны.

Объявление пространства имен состоит из ключевого слова `namespace` , за которым следует имя пространства имен, открывающую фигурную скобку `{` , объявления, содержащиеся в пространстве имен, и закрывающую фигурную скобку `}` .
Имена пространств имен соответствуют шаблону .NET последовательности из одного или нескольких юридических символов, разделенных точками `.` .
Например, `MyQuantumStuff` и `Microsoft.Quantum.Intrinsic` являются допустимыми именами пространств имен.
По соглашению символы в имени пространства имен записываются прописными буквами, но это не является обязательным.

Ссылки на типы или вызываемые объекты, объявленные ниже в файле, разрешаются правильно. нет необходимости в объявлении типа, операции или функции перед ссылкой на нее.

## <a name="open-directives"></a>Открытые директивы

В блоке пространства имен `open` директива может использоваться для импорта всех типов и вызовов, объявленных в определенном пространстве имен, и ссылаться на них по их неполному имени.
Такая `open` директива состоит из `open` ключевого слова, за которым следует открытое пространство имен и завершающая точка с запятой.

> [!NOTE] 
> Все `open` директивы должны находиться перед `function` `operation` объявлениями, или `newtype` в блоке пространства имен.

Кроме того, можно определить короткое имя для открытого пространства имен таким, чтобы все элементы из этого пространства имен могли уточняться определенным коротким именем. Например, учитывая следующее объявление пространства имен и открытые директивы,

```qsharp
namespace NS {
    open Microsoft.Quantum.Intrinsic; // opens the namespace
    open Microsoft.Quantum.Math as Math; // defines a short name for the namespace

    // operation, function, and newtype declarations

}
```

Если операция, которую мы объявляем, использует операцию `Op` из `Microsoft.Quantum.Intrinsic` , мы вызываем ее, просто используя `Op` .
Однако если бы нам требовалось вызвать определенную функцию `Fn` из `Microsoft.Quantum.Math` , необходимо вызвать ее с помощью `Math.Fn` .

`open`Директива применяется ко всему блоку пространства имен в файле.
Таким образом, если бы было определено дополнительное пространство имен в том же файле Q # `NS` , что и ранее, то любые операции, функции и типы, определенные во втором пространстве имен, не будут иметь доступа ни к чему, ни к `Microsoft.Quantum.Intrinsic` тому или только мы не повторяли `Microsoft.Quantum.Math` директивы Open. 

На тип или вызываемый объект, определенный в другом пространстве имен, который *не* открыт в текущем пространстве имен, должен ссылаться полное имя.
Например, на операцию с именем `Op` из `X.Y` пространства имен должно ссылаться полное имя `X.Y.Op` , если только `X.Y` пространство имен не было открыто ранее в текущем блоке. Как упоминалось выше, даже если `X` пространство имен было открыто, ссылаться на эту операцию как невозможно `Y.Op` .
Если `Z` `X.Y` в этом пространстве имен и файле было определено короткое имя, необходимо `Op` называть его `Z.Op` . 

Обычно лучше включать пространство имен с помощью `open` директивы.
Использование полного имени требуется, если два пространства имен определяют конструкции с одинаковым именем, а текущий источник использует конструкции из обоих.

В параметре Q # применяются те же правила именования, что и для других языков .NET.
Однако Q # не поддерживает относительные ссылки на пространства имен.
То есть, если пространство имен `a.b` было открыто, ссылка на операцию с именем `c.d` *не* будет разрешаться в операцию с полным именем `a.b.c.d` .

## <a name="formatting"></a>Форматирование

Большинство инструкций и директив Q # заканчиваются завершающей точкой с запятой, `;` .
Инструкции и объявления, такие как `for` и `operation` , заканчивающиеся блоком операторов (см. ниже), не нуждаются в завершающей точке с запятой.
Каждое описание инструкции отмечает, требуется ли завершающая точка с запятой.

Инструкции, такие как выражения, объявления и директивы, могут быть разбиты на несколько строк.
Следует избегать нескольких инструкций в одной строке.

## <a name="statement-blocks"></a>Блоки инструкций

Инструкции Q # группируются в блоки инструкций.
Блок операторов начинается с открытия `{` и заканчивается закрывающим `}` .

Блок операторов, который лексической заключен в другой блок, считается вложенным блоком содержащего блока. содержащие и вложенные блоки также называются внешними и внутренними блоками.

## <a name="comments"></a>Комментарии

Комментарии начинаются с двух косых черт, `//` и продолжаются до конца строки.
Комментарий может находиться в любом месте исходного файла Q #.

## <a name="documentation-comments"></a>Комментарии для документации

Комментарии, начинающиеся с трех косых черт, `///` , обрабатываются компилятором специально, когда они появляются непосредственно перед определением пространства имен, операции, специализации, функции или типа.
В этом случае их содержимое берется в виде документации по определенному вызываемому или определяемому пользователем типу, как и для других языков .NET.

В `///` комментариях текст, который будет отображаться как часть документации по API, форматируется как [Markdown](https://daringfireball.net/projects/markdown/syntax), а различные части документации указываются с помощью специально именованных заголовков.
Как расширение Markdown, перекрестные ссылки на операции, функции и определяемые пользователем типы в Q # могут включаться с помощью `@"<ref target>"` , где `<ref target>` заменяется полным именем объекта кода, на который указывает ссылка.
Кроме того, обработчик документации может также поддерживать дополнительные расширения Markdown.

Пример:

```qsharp
/// # Summary
/// Given an operation and a target for that operation,
/// applies the given operation twice.
///
/// # Input
/// ## op
/// The operation to be applied.
/// ## target
/// The target to which the operation is to be applied.
///
/// # Type Parameters
/// ## 'T
/// The type expected by the given operation as its input.
///
/// # Example
/// ```Q#
/// // Should be equivalent to the identity.
/// ApplyTwice(H, qubit);
/// ```
///
/// # See Also
/// - Microsoft.Quantum.Intrinsic.H
operation ApplyTwice<'T>(op : ('T => Unit), target : 'T) : Unit {
    op(target);
    op(target);
}
```

Следующие имена распознаются как заголовки комментариев документации.

- **Сводка**: краткое описание поведения функции или операции или назначения типа. Первый абзац сводки используется для сведений о наведении. Он должен быть обычным текстом.
- **Описание**: описание поведения функции или операции, либо назначение типа. Сводные данные и описание объединяются, образуя созданный файл документации для функции, операции или типа.
  Описание может содержать встроенные LaTeX символы и уравнения.
- **Входные данные**: описание входного кортежа для операции или функции.
  Может содержать дополнительные подразделы Markdown, указывающие каждый отдельный элемент входного кортежа.
- **Output**: описание кортежа, возвращаемого операцией или функцией.
- **Параметры типа**: пустой раздел, содержащий один дополнительный подраздел для каждого параметра универсального типа.
- **Пример**. короткий пример используемой операции, функции или типа.
- **Примечания**. различные prose, описывающие некоторые аспекты операции, функции или типа.
- **См. также**: список полных имен, указывающих связанные функции, операции или определяемые пользователем типы.
- **Ссылки**: список ссылок и ссылок для задокументированного элемента.

## <a name="next-steps"></a>Дальнейшие действия

Сведения об [операциях и функциях](xref:microsoft.quantum.guide.operationsfunctions) в Q #.