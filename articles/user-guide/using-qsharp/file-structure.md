---
title: Q# Структура файла
description: Описывает структуру и синтаксис Q# файла.
author: gillenhaalb
ms.author: a-gibec
ms.date: 03/05/2020
ms.topic: article
uid: microsoft.quantum.guide.filestructure
no-loc:
- Q#
- $$v
ms.openlocfilehash: 98b3a2e35186989b8191cc566a5d5310bc26eafc
ms.sourcegitcommit: 9b0d1ffc8752334bd6145457a826505cc31fa27a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/21/2020
ms.locfileid: "90833314"
---
# <a name="no-locq-file-structure"></a>Q# Структура файла

Q#Файл состоит из последовательности *объявлений пространств имен*.
Каждое объявление пространства имен содержит объявления для определяемых пользователем типов, операций и функций, а также может содержать любое количество объявлений каждого типа и в любом порядке.
Дополнительные сведения об объявлениях в пространстве имен см. в разделе [определяемые пользователем типы](xref:microsoft.quantum.guide.types#user-defined-types), [операции](xref:microsoft.quantum.guide.operationsfunctions#defining-new-operations)и [функции](xref:microsoft.quantum.guide.operationsfunctions#defining-new-functions).

Единственный текст, который может находиться за пределами объявления пространства имен, — это комментарии.
В частности, комментарии к документации для пространства имен предшествуют объявлению. Дополнительные сведения см. в [комментариях к документации](#documentation-comments) в этой статье. 

## <a name="namespace-declarations"></a>Объявление пространств имен

Q#Как правило, файл содержит только одно объявление пространства имен, но может иметь значение None (и быть пустым или содержать только комментарии) или содержать несколько пространств имен.
Объявления пространств имен не могут быть вложенными.

Одно и то же пространство имен можно объявить в нескольких Q# файлах, компилируемых вместе, если нет объявлений типа, операции или функции с одним и тем же именем.
В частности, нельзя определить один и тот же тип в одном пространстве имен в нескольких файлах, даже если объявления идентичны.

Объявление пространства имен состоит из ключевого слова `namespace` , за которым следует имя пространства имен и объявления, содержащиеся в пространстве имен, заключенном в фигурные скобки `{ }` .
Имена пространств имен соответствуют шаблону .NET последовательности из одного или нескольких юридических символов, разделенных точками `.` .
Например, `MyQuantumStuff` и `Microsoft.Quantum.Intrinsic` являются допустимыми именами пространств имен.
По соглашению символы в имени пространства имен можно заменять на прописные, однако это не является обязательным.

Ссылки на типы или вызываемые объекты, объявленные ниже в файле, разрешаются надлежащим образом. нет необходимости в объявлении типа, операции или функции перед ссылкой на нее.

## <a name="open-directives"></a>Открытые директивы

В блоке пространства имен используйте `open` директиву, чтобы импортировать все типы и вызываемые, объявленные в определенном пространстве имен, и ссылаться на них по их неполному имени.
Такая `open` директива состоит из `open` ключевого слова, за которым следует открытое пространство имен и завершающая точка с запятой.

> [!NOTE] 
> Все `open` директивы должны находиться перед `function` `operation` объявлениями, или `newtype` в блоке пространства имен.

При необходимости можно определить короткое имя для открытого пространства имен. Если задано короткое имя, необходимо уточнить все элементы из этого пространства имен на определенное короткое имя. Например, учитывая следующее объявление пространства имен и открытые директивы,

```qsharp
namespace NS {
    open Microsoft.Quantum.Intrinsic; // opens the namespace
    open Microsoft.Quantum.Math as Math; // defines a short name for the namespace

    // operation, function, and newtype declarations

}
```

Если в объявленной операции используется операция `Op` из `Microsoft.Quantum.Intrinsic` , ее можно вызвать, просто используя `Op` .
Однако для вызова определенной функции из необходимо `Fn` `Microsoft.Quantum.Math` вызвать ее с помощью `Math.Fn` .

`open`Директива применяется ко всему блоку пространства имен в файле.
Следовательно, если определить дополнительное пространство имен в том же Q# файле, что и `NS` ранее, то любые операции, функции и типы, определенные во втором пространстве имен, не будут иметь доступа ни к чему, ни к `Microsoft.Quantum.Intrinsic` `Microsoft.Quantum.Math` тому или только если вы повторно выпустили директивы Open. 

Чтобы сослаться на тип или вызываемый, определенный в другом пространстве имен, который *не* открыт в текущем пространстве имен, необходимо создать ссылку на него по полному имени.
Например, для операции с именем `Op` из `X.Y` пространства имен:

* Необходимо создать ссылку на него по полному имени `X.Y.Op` , если только `X.Y` пространство имен не было открыто ранее в текущем блоке. 
* Даже если `X` пространство имен открыто, нельзя ссылаться на операцию как `Y.Op` .
* Если вы определили короткое имя `Z` для `X.Y` в этом пространстве имен и файле, необходимо указать ссылку `Op` как `Z.Op` . 

Обычно лучше включать пространство имен с помощью `open` директивы.
Использование полного имени требуется, если два пространства имен определяют конструкции с одинаковым именем, а текущий источник использует конструкции из обоих.

Q# следует тем же правилам для именования, что и для других языков .NET.
Однако не Q# поддерживает относительные ссылки на пространства имен.
Например, если пространство имен `a.b` открыто, ссылка на операцию с именем не `c.d` разрешается *not* в операцию с полным именем `a.b.c.d` .

## <a name="formatting"></a>Форматирование

Большинство Q# инструкций и директив заканчиваются завершающей точкой с запятой, `;` .
Инструкции и объявления, такие как `for` и `operation` , заканчивающиеся блоком операторов (см. следующий раздел), не нуждаются в завершающей точке с запятой.
Каждое описание инструкции отмечает, требуется ли завершающая точка с запятой.

Инструкции, такие как выражения, объявления и директивы, можно разделить на несколько строк.
Старайтесь не размещать несколько инструкций в одной строке.

## <a name="statement-blocks"></a>Блоки инструкций

Q# Операторы группируются в блоки инструкций, которые содержатся в фигурных скобках `{ }` . Блок операторов начинается с открытия `{` и заканчивается закрывающим `}` .

Блок операторов, который лексической заключен в другой блок, считается вложенным блоком содержащего блока. содержащие и вложенные блоки также называются внешними и внутренними блоками.

## <a name="comments"></a>Комментарии

Комментарии начинаются с двух косых черт, `//` и продолжаются до конца строки.
Комментарий может находиться в любом месте Q# исходного файла.

## <a name="documentation-comments"></a>Комментарии для документации

Комментарии, начинающиеся с трех косых черт, `///` , обрабатываются компилятором специально, когда они появляются непосредственно перед определением пространства имен, операции, специализации, функции или типа.
В этом случае компилятор обрабатывает их как документацию для определенного вызываемого или определяемого пользователем типа, аналогично другим языкам .NET.

Внутри `///` комментариев текст, который будет отображаться как часть документации по API, форматируется как [Markdown](https://daringfireball.net/projects/markdown/syntax), а различные части документации — с помощью специально именованных заголовков.
В Markdown используйте `@"<ref target>"` расширение для операций с перекрестными ссылками, функций и определяемых пользователем типов в Q# . Замените на полное `<ref target>` имя упоминаемого объекта кода.
Различные обработчики документации также могут поддерживать дополнительные расширения Markdown.

Пример:

```qsharp
/// # Summary
/// Given an operation and a target for that operation,
/// applies the given operation twice.
///
/// # Input
/// ## op
/// The operation to be applied.
/// ## target
/// The target to which the operation is to be applied.
///
/// # Type Parameters
/// ## 'T
/// The type expected by the given operation as its input.
///
/// # Example
/// ```Q#
/// // Should be equivalent to the identity.
/// ApplyTwice(H, qubit);
/// ```
///
/// # See Also
/// - Microsoft.Quantum.Intrinsic.H
operation ApplyTwice<'T>(op : ('T => Unit), target : 'T) : Unit {
    op(target);
    op(target);
}
```

Следующие имена являются допустимыми в качестве заголовков комментариев документации.

- **Сводка**: краткое описание поведения функции или операции или назначение типа. Первый абзац сводки используется для сведений о наведении. Он должен быть обычным текстом.
- **Описание**: описание поведения функции или операции или назначение типа. Вместе сводка и описание формируют созданный файл документации для функции, операции или типа.
  Описание поддерживает встроенные в LaTeX символы и уравнения.
- **Входные данные**: описание входного кортежа для операции или функции.
  Может содержать дополнительные подразделы Markdown, указывающие каждый элемент входного кортежа.
- **Output**: описание кортежа, возвращаемого операцией или функцией.
- **Параметры типа**: пустой раздел, содержащий один дополнительный подраздел для каждого параметра универсального типа.
- **Пример**. Краткий пример использования операции, функции или типа.
- **Примечания**. различные prose, описывающие некоторые аспекты операции, функции или типа.
- **См. также**: список полных имен, указывающих связанные функции, операции или определяемые пользователем типы.
- **Ссылки**: список ссылок и ссылки на задокументированный элемент.

## <a name="next-steps"></a>Дальнейшие действия

Сведения об [операциях и функциях](xref:microsoft.quantum.guide.operationsfunctions) в Q# .